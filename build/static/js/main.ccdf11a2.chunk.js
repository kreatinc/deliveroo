(this.webpackJsonpdeliveroo=this.webpackJsonpdeliveroo||[]).push([[0],{109:function(e,t,n){e.exports=n.p+"static/media/logo.31e29312.png"},17:function(e,t,n){e.exports=n.p+"static/media/icons.1c2ce2be.svg"},221:function(e,t,n){e.exports=n.p+"static/media/test-1.dc69e748.jpg"},222:function(e,t,n){e.exports=n.p+"static/media/bannerImg.fea4d853.png"},252:function(e,t,n){e.exports=n(571)},415:function(e,t,n){},570:function(e,t,n){},571:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"clearCommands",(function(){return Zt})),n.d(a,"getCommands",(function(){return zt})),n.d(a,"fetchProducts",(function(){return tt})),n.d(a,"receiveProducts",(function(){return pt})),n.d(a,"fetchProductsFailure",(function(){return ut})),n.d(a,"fetchProductsRequest",(function(){return lt})),n.d(a,"addToShoppingList",(function(){return Et})),n.d(a,"getShoppingList",(function(){return ht})),n.d(a,"removeFromShoppingList",(function(){return Ot})),n.d(a,"getLikedProducts",(function(){return gt})),n.d(a,"addToLikeList",(function(){return St})),n.d(a,"removeIngredient",(function(){return Tt})),n.d(a,"fetchProductFailure",(function(){return st})),n.d(a,"fetchProductRequest",(function(){return ot})),n.d(a,"fetchProduct",(function(){return rt})),n.d(a,"fetchCategories",(function(){return nt})),n.d(a,"fetchSearchProductsFailure",(function(){return dt})),n.d(a,"receiveSearchProducts",(function(){return ft})),n.d(a,"fetchSearchProductsRequest",(function(){return mt})),n.d(a,"clearSearchResults",(function(){return wt})),n.d(a,"searchProduct",(function(){return It})),n.d(a,"login",(function(){return Lt})),n.d(a,"receiveUser",(function(){return Rt})),n.d(a,"register",(function(){return jt})),n.d(a,"logout",(function(){return Mt})),n.d(a,"userLogoutSuccess",(function(){return Ht})),n.d(a,"userLogoutRequest",(function(){return qt})),n.d(a,"userLogoutfailure",(function(){return xt})),n.d(a,"removeFromLikeList",(function(){return yt})),n.d(a,"addComment",(function(){return Gt})),n.d(a,"removeComment",(function(){return Wt})),n.d(a,"editComment",(function(){return Qt})),n.d(a,"addCommand",(function(){return Bt})),n.d(a,"updatePassword",(function(){return Ut})),n.d(a,"updateUserInformation",(function(){return Ft}));var r=n(0),c=n.n(r),i=n(13),o=n.n(i),s=n(106),l=n(154),u=n.n(l),m=n(155),d=n.n(m),p=n(73),f=n.n(p),E=n(20),h=function(e){var t=e.logo,n=e.clearSearchResults,a=e.clearCommands;return c.a.createElement(E.b,{to:"/home",onClick:function(){n&&n(),a&&a()}},c.a.createElement("img",{src:t,alt:"Logo",className:"header__logo"}))},g=n(109),_=n.n(g),v=function(){return c.a.createElement("nav",{className:"welcome__nav"},c.a.createElement(u.a,null,c.a.createElement(d.a,{className:"welcome__nav"},c.a.createElement(f.a.Column,{size:"three-quarters"},c.a.createElement(h,{logo:_.a})),c.a.createElement(f.a.Column,null,c.a.createElement("div",{className:"navbar-end"},c.a.createElement(f.a,null,c.a.createElement(f.a.Column,null,c.a.createElement(s.Button,{className:"btn is-large"},c.a.createElement(E.c,{style:{color:"white"},to:"/register"},"Sign up"))),c.a.createElement(f.a.Column,null,c.a.createElement(s.Button,{className:"btn is-large"},c.a.createElement(E.c,{style:{color:"white"},to:"/login"},"Login")))))))))},C=n(89),S=n.n(C),y=function(e){var t=e.handleClick,n=e.icon,a=e.children;return c.a.createElement("button",{className:"btn search__btn",onClick:t},n&&c.a.createElement("svg",{className:"search__icon"},c.a.createElement("use",{href:n})),c.a.createElement("span",null,a))},b=n(221),N=n.n(b),O=function(){return c.a.createElement(S.a,null,c.a.createElement("header",{className:"card-header"},c.a.createElement("p",{className:"card-header-title"},"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam, necessitatibus."),c.a.createElement("a",{href:"#",className:"card-header-icon","aria-label":"more options"},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"content"},c.a.createElement("img",{style:{borderRadius:"20px"},src:N.a}),c.a.createElement("br",null)),c.a.createElement("footer",{className:"card-footer mb-5"},c.a.createElement(y,{onClick:function(){}},"Take a look"))))},T=n(34),w=n(222),I=n.n(w),L=function(){return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image"},c.a.createElement("figure",{className:"image is-4by3"},c.a.createElement("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"}))),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"media"},c.a.createElement("div",{className:"media-content"},c.a.createElement("p",{className:"title is-4"},"John Smith"),c.a.createElement("p",{className:"subtitle is-6"},"@johnsmith"))),c.a.createElement("div",{className:"content"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",c.a.createElement("a",null,"@bulmaio"),".",c.a.createElement("a",{href:"#"},"#css")," ",c.a.createElement("a",{href:"#"},"#responsive"),c.a.createElement("br",null),c.a.createElement("time",{dateTime:"2016-1-1"},"11:09 PM - 1 Jan 2016"))))},R=n(51),k=n(22),U=function(){var e=Object(r.useState)(!1),t=Object(R.a)(e,2),n=t[0],a=t[1],c=Object(k.g)(),i=Object(k.h)();return Object(r.useEffect)((function(){localStorage.getItem("user")&&(a(!0),["/","/login","/register","/welcome"].includes(i.pathname)&&c.push("/home"))}),[]),n},F=function(){if(!U())return c.a.createElement("div",null,c.a.createElement(v,null),c.a.createElement("div",null,c.a.createElement(T.Container,{className:"welcome__container"},c.a.createElement(S.a,{className:"banner-card"},c.a.createElement(T.Columns,null,c.a.createElement(T.Columns.Column,null,c.a.createElement("div",{className:"banner__header"},c.a.createElement("h1",null,"Choose your joy ",c.a.createElement("span",{role:"img"},"\ud83c\udf5d"),", we bring it to you"))),c.a.createElement(T.Columns.Column,null,c.a.createElement("img",{src:I.a,alt:"banner",className:"banner-logo"})))),c.a.createElement("div",{className:"categories-list"},c.a.createElement(T.Columns,null,c.a.createElement(T.Columns.Column,null,c.a.createElement(O,null)),c.a.createElement(T.Columns.Column,null,c.a.createElement(O,null)),c.a.createElement(T.Columns.Column,null,c.a.createElement(O,null)),c.a.createElement(T.Columns.Column,null,c.a.createElement(O,null))),c.a.createElement("hr",null),c.a.createElement("p",{className:"heading-2"},"What our clients say about us"),c.a.createElement(T.Columns,null,c.a.createElement(T.Columns.Column,null,c.a.createElement(L,null)),c.a.createElement(T.Columns.Column,null,c.a.createElement(L,null)),c.a.createElement(T.Columns.Column,null,c.a.createElement(L,null)),c.a.createElement(T.Columns.Column,null,c.a.createElement(L,null)))))))},j=(n(415),c.a.forwardRef((function(e,t){var n=e.placeholder;return c.a.createElement("input",{ref:t,type:"text",className:"search__field",id:"search__field",placeholder:n})}))),A=function(e){var t=e.searchProduct,n=c.a.createRef();return Object(r.useEffect)((function(){var e=t();return function(){return e.unsubscribe()}}),[]),c.a.createElement("form",{className:"search"},c.a.createElement(j,{placeholder:"Search over 1,000,000 products...",ref:n}))},P=n(17),D=n.n(P),M=function(e){var t=e.product,n=e.clearCommands;return c.a.createElement("li",null,c.a.createElement(E.b,{className:"likes__link",to:"/home/"+t.category.title+"#"+t.id,onClick:function(){return n()}},c.a.createElement("figure",{className:"likes__fig"},c.a.createElement("img",{src:t.image,alt:t.description})),c.a.createElement("div",{className:"likes__data"},c.a.createElement("h4",{className:"likes__name"},t.title),c.a.createElement("p",{className:"likes__author"},t.company.title))))},H=n(43),q=n(29),x=n(629),G=function(){try{return JSON.parse(localStorage.getItem("user"))}catch(e){console.log("there was an error while getting the logged user")}localStorage.getItem("user")},K=function(e){var t=e.email,n=e.name,a=e.phone,r=e.address,c=e.id,i=e.token;try{var o=G();if(o){var s=Object(q.a)({},o,{email:t,name:n,phone:a,address:r});localStorage.setItem("user",JSON.stringify(s))}else localStorage.setItem("user",JSON.stringify({email:t,name:n,phone:a,address:r,id:c,token:i}));return G()}catch(l){console.log("there was an error while trying to save the logged user")}},W=function(){try{return localStorage.removeItem("user"),{}}catch(e){console.log("there was a problem while trying to remove the logged user")}},J=function(){try{return JSON.parse(localStorage.getItem("shoppingList"))}catch(e){console.log("there was an error dealing with the shopping list")}},Q=function(e){console.log("the id of the product is ",e);try{var t=J();return delete t["".concat(e)],localStorage.setItem("shoppingList",JSON.stringify(t)),J()}catch(n){console.log("there was an error while removing the item from the list")}},V=function(e,t){var n=Object(x.a)();try{var a=J(),r=Object(q.a)({},a,Object(H.a)({},n,Object(q.a)({},e,{quantity:t})));return localStorage.setItem("shoppingList",JSON.stringify(r)),J()}catch(c){console.log("there was an error while accessing localStorage")}},B=function(){try{return localStorage.removeItem("shoppingList"),{}}catch(e){console.log("there was an error while removing the shopping list")}},z=function(e){var t=e.likedProducts,n=e.receiveUser,a=e.getLikedProducts,i=e.fetchProduct,o=e.clearCommands,s=U();return Object(r.useEffect)((function(){if(!s){var e=G();e.email&&(n({data:e}),a())}}),[]),c.a.createElement("div",{className:"likes"},c.a.createElement("div",{className:"likes__field"},c.a.createElement("svg",{className:"likes__icon"},c.a.createElement("use",{href:D.a+"#icon-heart"}))),c.a.createElement("div",{className:"likes__panel"},c.a.createElement("ul",{className:"likes__list"},t&&t.map((function(e){return c.a.createElement(M,{product:e.details,fetchProduct:i,key:e.details.id,clearCommands:o})})))))},Z=n(24),Y=n(44),$=function(e){return Object(Y.c)({ids:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_PRODUCTS_SUCCESS":return e===n.category?n.response.result:t;default:return t}},isFetching:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;if(n.category!==e)return t;switch(n.type){case"FETCH_PRODUCTS_REQUEST":return!0;case"FETCH_PRODUCTS_SUCCESS":case"FETCH_PRODUCTS_FAILURE":return!1;default:return t}},errorMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;if(n.category!==e)return t;switch(n.type){case"FETCH_PRODUCTS_FAILURE":return n.message;case"FETCH_PRODUCTS_REQUEST":case"FETCH_PRODUCTS_SUCCESS":return null;default:return t}}})},X=function(e){if(e)return Array.isArray(e)?e:e.replace("[","").replace("]","").split(",")},ee=function(e,t){var n=X(e.recipe).filter((function(e){return e!==t.ingredient}));return Object(q.a)({},e,{recipe:n})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_SUCCESS":case"FETCH_PRODUCT_SUCCESS":return Object(q.a)({},e,{},t.response.entities.products);case"REMOVE_INGREDIENT":return Object(q.a)({},e,Object(H.a)({},t.productId,ee(e[t.productId],t)));default:return e}},ne=function(e,t){return e[t]},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIST_ITEMS":return J();case"GET_LIST_ITEM_FAILURE":return e;case"ADD_LIST_ITEM":return V(t.product,t.quantity);case"REMOVE_LIST_ITEM":return Q(t.id);case"CLEAR_SHOOPING_LIST":return B();default:return e}},re=n(78),ce=Object(Y.c)({isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_REQUEST":return!0;case"LIKE_SUCCESS":case"LIKE_FAILURE":return!1;default:return e}},likes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_LIKE_LIST":return[].concat(Object(re.a)(e),[t.response]);case"REMOVE_FROM_LIKE_LIST":return e.filter((function(e){return e.id!==t.response.id}));case"GET_LIKE_LIST_SUCCESS":return t.response;case"GET_LIKE_LIST_REQUEST":console.log("requesting");case"GET_LIKE_LIST_FAILURE":default:return e}}}),ie=n(54),oe=new ie.b.Entity("products"),se=new ie.b.Array(oe),le=new ie.b.Entity("commnets"),ue=(new ie.b.Array(le),function(e,t){var n=t.response.result,a=t.response.entities.products,r=Object(q.a)({},e);return n.forEach((function(e){r[e]=a[e].comments})),r}),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_SUCCESS":return ue(e,t);case"ADD_COMMENT":return Object(q.a)({},e,Object(H.a)({},t.productId,[].concat(Object(re.a)(e[t.productId]),[t.response])));case"REMOVE_COMMENT":var n=e[t.productId].filter((function(e){return e.id!==t.commentId})),a=Object(q.a)({},e,Object(H.a)({},t.productId,n));return a;case"EDIT_COMMENT":var r=e[t.productId].map((function(e){return e.id===t.commentId&&(e=t.response),e}));return Object(q.a)({},e,Object(H.a)({},t.productId,r));default:return e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_SUCCESS":return{currentPage:t.meta.current_page,lastPage:t.meta.last_page,prevLink:t.links.prev,nextLink:t.links.next};default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEGORIES_SUCCESS":return t.response;default:return e}},fe=Object(Y.c)({searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SEARCH_PRODUCTS_SUCCESS":return t.response;case"CLEAR_SEARCH_RESULTS":return[];case"FETCH_SEARCH_PRODUCTS_FAILURE":return t.message;default:return e}},isSearching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SEARCH_PRODUCTS_REQUEST":return!0;case"FETCH_SEARCH_PRODUCTS_SUCCESS":case"FETCH_SEARCH_PRODUCTS_FAILURE":case"CLEAR_SEARCH_RESULTS":return!1;default:return e}}}),Ee=n(224),he=n.n(Ee).a.create({baseURL:"http://127.0.0.1:8000/api/",timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/json"}});he.interceptors.response.use((function(e){return e}),(function(e){return 403===e.response.status?Promise.reject(e.response.data.error):401===e.response.status?(console.log("the status code is 401"),ya.dispatch({type:"USER_LOGOUT_SUCCESS"}),window.location.replace("/login"),Promise.reject(e)):void 0}));var ge=he,_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_SUCCESS":var n=Object(q.a)({},e,{},K(t.response));return ge.defaults.headers.common.Authorization="Bearer ".concat(n.token),n;case"USER_LOGIN_FAILURE":case"USER_LOGOUT_SUCCESS":return W();default:return e}},ve=Object(Y.c)({commands:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COMMANDS_SUCCESS":return t.response;case"ADD_COMMAND_SUCCESS":return[Object(q.a)({},t.response[0],{delivery_state:"waiting"})];case"CLEAR_COMMANDS_LIST":return[];default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COMMANDS_REQUEST":return!0;case"FETCH_COMMANDS_SUCCESS":case"FETCH_COMMANDS_FAILURE":return!1;default:return e}}}),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTIFICATION":return[].concat(Object(re.a)(e),[t.notification]);case"REMOVE_NOTIFICATION":default:return e}},Se=Object(Y.c)({tortya:$("tortya"),cakes:$("cakes"),tacos:$("tacos"),croissant:$("croissant"),pizza:$("pizza"),others:$("others")}),ye=Object(Y.c)({byId:te,idsByCategory:Se,shoppingList:ae,likesList:ce,commentsList:me,commandsList:ve,categoriesList:pe,pagination:de,searchResultsList:fe,notifications:Ce,user:_e}),be=function(e,t){return void 0!==t?function(e){return e.ids}(e.idsByCategory[t]).map((function(t){return ne(e.byId,t)})):[]},Ne=function(e,t){var n=ne(e.byId,t);if(n)return n},Oe=function(e,t){if(t)return function(e){return e.isFetching}(e.idsByCategory[t])},Te=function(e,t){if(t)return function(e){return e.errorMessage}(e.idsByCategory[t])},we=function(e){return function(e){if(e)return Object.keys(e).map((function(t){return{key:t,details:e[t]}}))}(e.shoppingList)},Ie=function(e){return function(e){if(e)return Object.keys(e).map((function(t){return{key:t,details:e[t]}}))}(e.likesList.likes)},Le=function(e,t){return function(e,t){return Array.from(e).filter((function(e){return e.id===+t})).length>0}(e.likesList.likes,t)},Re=function(e){return e.likesList.isFetching},ke=function(e,t){var n=ne(e.byId,t);if(n)return X(n.recipe)},Ue=function(e,t){var n=ne(e.byId,t);if(n)return n.likes},Fe=function(e,t){var n=ne(e.byId,t);if(n)return function(e,t){return e[t]}(e.commentsList,n.id)},je=function(e){return e.pagination},Ae=function(e){return function(e){return e.map((function(e){return e}))}(e.categoriesList)},Pe=function(e){console.log(e.searchResultsList.searchResults);var t=function(e){return e.result}(e.searchResultsList.searchResults);if(console.log("the ids are the following :",t),t)return t.map((function(t){return function(e,t){return e.entities.products[t]}(e.searchResultsList.searchResults,t)}))},De=function(e){return e.searchResultsList.isSearching},Me=function(e){return e.user},He=function(e){return console.log("the state is : ",e),e.commandsList.commands},qe=function(e){return e.commandsList.isFetching},xe=function(e){return e.notifications},Ge=function(e,t){if(null!==e){var n=e.replace("http://localhost:8000/api","");return console.log("the res is the following :",n),ge.get(n)}return t?ge.get("/categories/products/".concat(t)):ge.get("/products")},Ke=n(605),We=n(31),Je=n(625),Qe=n(606),Ve=n(111),Be=n(607),ze=n(608),Ze=n(623),Ye=n(609),$e=function(e){var t=document.getElementById("search__field");return Object(Ke.a)(t,"keyup").pipe(Object(Qe.a)((function(e){return Object(Je.a)(1e3)})),Object(Ve.a)((function(e){return t.value})),Object(Be.a)(),Object(ze.a)((function(e){return e.length>0})),Object(Ze.a)((function(t){return We.a.create((function(n){e(mt()),ge.get("http://localhost:8000/api/products?title=".concat(t)).then((function(e){n.next(e)}),(function(e){n.error(e)}))}))})),Object(Ye.a)(2)).subscribe((function(t){e(ft(t))}),(function(t){return e(dt(t))}))},Xe=n(37),et=n.n(Xe),tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"others";return function(n){return n(lt(t)),Ge(e,t).then((function(e){n(pt(e,t)),n(it("Products fetched successfuly"))})).catch((function(e){n(ut(e,t)),n(it("There was an error while fetching the products"))}))}},nt=function(){return function(e){return ge.get("/categories").then((function(t){e(at(t)),e(it("Categories fetched successfuly"))})).catch((function(t){return e(it("There was an error while fetching the categories"))}))}},at=function(e){return{type:"FETCH_CATEGORIES_SUCCESS",response:e.data.data}},rt=function(e){return function(t){return t(ot()),function(e){return ge.get("/products/".concat(e))}(e).then((function(e){t(ct(e)),t(it("Product fetched successfuly"))})).catch((function(e){t(st(e)),it("There was an error while fetching the product")}))}},ct=function(e){return{type:"FETCH_PRODUCT_SUCCESS",response:Object(ie.a)(e.data.data,oe)}},it=function(e){return{type:"ADD_NOTIFICATION",notification:e}},ot=function(){return{type:"FETCH_PRODUCT_REQUEST"}},st=function(e){return{type:"FETCH_PRODUCT_FAILURE",message:e.message||"there was an error while fetching the product"}},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"others";return{type:"FETCH_PRODUCTS_REQUEST",category:e}},ut=function(e,t){return{type:"FETCH_PRODUCTS_FAILURE",message:e.message||"There was an error while fetching the products",category:t}},mt=function(){return{type:"FETCH_SEARCH_PRODUCTS_REQUEST"}},dt=function(e){return{type:"FETCH_SEARCH_PRODUCTS_FAILURE",message:e.message||"There was an error while fetching the products"}},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"others";return{type:"FETCH_PRODUCTS_SUCCESS",response:Object(ie.a)(e.data.data,se),category:t,links:e.data.links,meta:e.data.meta}},ft=function(e){return{type:"FETCH_SEARCH_PRODUCTS_SUCCESS",response:Object(ie.a)(e.data.data,se)}},Et=function(e,t){return{type:"ADD_LIST_ITEM",product:e,quantity:t}},ht=function(){return{type:"GET_LIST_ITEMS"}},gt=function(){return function(e){return e(_t()),ge.get("clients/profile").then((function(t){e(vt(t)),e(it("Liked products fetched successfuly"))})).catch((function(t){e(Ct(t)),e(it("There was an error while fetching the liked products"))}))}},_t=function(){return{type:"GET_LIKE_LIST_REQUEST"}},vt=function(e){return{type:"GET_LIKE_LIST_SUCCESS",response:e.data.data.likes}},Ct=function(e){return{type:"GET_LIKE_LIST_FAILURE",message:e.message}},St=function(e){return function(t){return t({type:"LIKE_REQUEST"}),function(e){return ge.post("clients/".concat(e,"/like"))}(e).then((function(e){t(bt(e)),t({type:"LIKE_SUCCESS"}),t(it("Product liked successfuly"))})).catch((function(e){t({type:"LIKE_FAILURE"}),t(it("There was an error while liking the product"))}))}},yt=function(e){return function(t){return t({type:"LIKE_REQUEST"}),function(e){return ge.post("clients/".concat(e,"/unlike"))}(e).then((function(e){t(Nt(e)),t({type:"LIKE_SUCCESS"}),t(it("Product disliked successfuly"))})).catch((function(e){return t(it("There was an error while liking the product"))}))}},bt=function(e){return console.log("liking:",e),{type:"ADD_TO_LIKE_LIST",response:e.data.data}},Nt=function(e){return console.log("unliking:",e),{type:"REMOVE_FROM_LIKE_LIST",response:e.data.data}},Ot=function(e){return{type:"REMOVE_LIST_ITEM",id:e}},Tt=function(e,t){return{type:"REMOVE_INGREDIENT",ingredient:e,productId:t}},wt=function(){return{type:"CLEAR_SEARCH_RESULTS"}},It=function(){return function(e){return $e(e)}},Lt=function(e,t){return function(n){return n(kt()),function(e){var t=e.email,n=e.password;return ge.post("clients/login",JSON.stringify({email:t,password:n}))}(e).then((function(e){n(Rt(e)),t.push("/home"),n(it("You're logged in"))})).catch((function(e){return n(it(e))}))}},Rt=function(e){return{type:"USER_LOGIN_SUCCESS",response:e.data}},kt=function(){return{type:"USER_LOGIN_REQUEST"}},Ut=function(e,t,n){return function(a){return function(e,t,n){return console.log("confirmation",n),ge.patch("/clients/password",JSON.stringify({old_password:e,new_password:t,new_password_confirmation:n}))}(e,t,n).then((function(e){a(it("Password updated successfuly"))})).catch((function(e){a(it("There was an error while changing the password"))}))}},Ft=function(e){return function(t){return function(e){return ge.patch("clients/profile",JSON.stringify(e))}(e).then((function(e){t(Rt(e.data)),t(it("Informations updated successfuly"))})).catch((function(e){t(it("There was an error while updating profile"))}))}},jt=function(e){return function(t){return t(Pt()),function(e){var t=e.firstName,n=e.phone,a=e.email,r=e.password;return ge.post("clients/register",JSON.stringify({firstName:t,phone:n,email:a,password:r}))}(e).then((function(e){t(At(e)),t(it("Your account has been created"))})).catch((function(e){t(Dt(e)),t(it("There was an error while creating your account"))}))}},At=function(e){return{type:"USER_REGISTER_SUCCESS",response:e}},Pt=function(){return{type:"USER_REGISTER_REQUEST"}},Dt=function(e){return{type:"USER_REGISTER_FAILURE",message:e.message}},Mt=function(e){return function(t){return qt(),ge.post("clients/logout").then((function(n){t(Ht(n)),t({type:"CLEAR_SHOOPING_LIST"}),e.push("/"),t(it("You're logged out")),window.location.reload()})).catch((function(n){t(it("There was an error while logging out")),t(xt(n)),e.push("/")}))}},Ht=function(e){return{type:"USER_LOGOUT_SUCCESS",response:e.data}},qt=function(){return{type:"USER_LOGOUT_REQUEST"}},xt=function(e){return{type:"USER_LOGOUT_FAILURE",message:e.message}},Gt=function(e,t){return function(n){return function(e,t){return ge.post("clients/comments/".concat(t),JSON.stringify({comment:e,product_id:t}))}(e,t).then((function(e){n(Kt(e,t)),n(it("Comment added successfuly"))})).catch((function(e){n(it("There was an error while adding the comment"))}))}},Kt=function(e,t){return{type:"ADD_COMMENT",response:e.data.data,productId:t}},Wt=function(e,t){return function(n){return function(e){return ge.delete("clients/comments/".concat(e))}(e).then((function(a){n(Jt(a,t,e)),n(it("Comment removed successfuly"))})).catch((function(e){return n(it("There was an error while removing the comment"))}))}},Jt=function(e,t,n){return{type:"REMOVE_COMMENT",productId:t,commentId:n}},Qt=function(e,t,n){return function(a){return function(e,t){return ge.patch("clients/comments/".concat(t),JSON.stringify({comment:e,product_id:t}))}(e,n).then((function(e){a(Vt(e,t,n)),a(it("Comment edited successfuly"))})).catch((function(e){return a(it("There was an error while editing the comment"))}))}},Vt=function(e,t,n){return{type:"EDIT_COMMENT",response:e.data.data,productId:t,commentId:n}},Bt=function(e,t){return function(n){return function(e){console.log({command:e});var t=JSON.stringify({command:e});return ge.post("clients/commands",t)}(function(e,t){var n=Object(x.a)();return e.map((function(e,a){return{product_id:e.details.id,quantity:e.details.quantity,recipe:X(e.details.recipe),description:a,price:e.details.price,address:t,command_group_id:n}}))}(e,t)).then((function(e){n(Yt(e)),n({type:"CLEAR_SHOOPING_LIST"}),n(it("Command added successfuly"))})).catch((function(e){n(it("There was an error while adding a command"))}))}},zt=function(){return function(e){return e({type:"FETCH_COMMANDS_REQUEST"}),ge.get("clients/commands").then((function(t){e({type:"FETCH_COMMANDS_SUCCESS",response:t.data.data}),e(it("Commands fetched successfuly"))})).catch((function(){e({type:"FETCH_COMMANDS_FAILURE"}),e(it("There was an error while fetching the commands"))}))}},Zt=function(){return{type:"CLEAR_COMMANDS_LIST"}},Yt=function(e){return{type:"ADD_COMMAND_SUCCESS",response:e.data.data}},$t=n(626),Xt=n(628),en=n(610),tn=n(634),nn=n(631),an=n(624),rn=n(630),cn=n(621),on=n(47),sn=n(620),ln=function(e){var t=e.errors,n=Object.keys(t);return c.a.createElement("div",{className:"errors__container"},t&&n.map((function(e,n){return c.a.createElement("li",{key:n},"The ",e," is ",t[e])})))},un=function(e){var t=e.updatePassword,n=e.closeModal,a=Object(on.a)({initialValues:{old_password:"",password:"",confirm:""},validate:dn,onSubmit:function(e){window.confirm("Are you sure you want to perceed with this action ?")&&(t(e.old_password,e.password,e.confirm),n())}});return c.a.createElement(c.a.Fragment,null,0!==Object.keys(a.errors).length&&c.a.createElement(ln,{errors:a.errors}),c.a.createElement(Xt.a,{layout:"vertical",onSubmit:a.handleSubmit,style:{marginTop:"5%"}},c.a.createElement(en.a,null,c.a.createElement(tn.a,null),c.a.createElement(sn.a,{autoComplete:"password",name:"old_password",variant:"outlined",fullWidth:!0,required:!0,id:"old_password",type:"password",label:"Old password",onChange:a.handleChange,value:a.values.old_password})),c.a.createElement(en.a,null,c.a.createElement(sn.a,{autoComplete:"password",name:"password",variant:"outlined",fullWidth:!0,required:!0,id:"password",type:"password",label:"New password",onChange:a.handleChange,value:a.values.password})),c.a.createElement(en.a,null,c.a.createElement(sn.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,id:"confirm",label:"Confirm password",type:"password",name:"confirm",onChange:a.handleChange,value:a.values.confirm})),c.a.createElement(en.a,null,c.a.createElement(nn.a,null,c.a.createElement(an.a,{appearance:"primary",type:"submit"},"Submit")))))};un=Object(Z.b)(null,a)(un);var mn=function(){var e=Object(r.useState)(!1),t=Object(R.a)(e,2),n=t[0],a=t[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(nn.a,null,c.a.createElement(an.a,{appearance:"link",onClick:function(){return a(!0)}},"Change password")),c.a.createElement(cn.a,{size:"xs",show:n,onHide:function(){return a(!1)}},c.a.createElement(cn.a.Header,null,c.a.createElement(cn.a.Title,null,"Edit Password")),c.a.createElement(cn.a.Body,null,c.a.createElement(un,{closeModal:function(){return a(!1)}})),c.a.createElement(cn.a.Footer,null,c.a.createElement(an.a,{onClick:function(){return a(!1)},appearance:"subtle"},"Cancel"))))},dn=function(e){var t={};return e.old_password?e.old_password.length>15&&(t.old_password="15 characters or less"):t.old_password="Required",e.password||(t.password="Required"),e.password!==e.confirm&&(t.password="Not matching"),t},pn=function(e){var t=e.currentUser,n=e.updateUserInformation,a=e.closeModal,r=Object(on.a)({initialValues:{firstName:t.name,email:t.email,phone:t.phone,address:t.address},validate:hn,onSubmit:function(e){window.confirm("Are you sure you want to perceed with this action ?")&&(n({name:e.firstName,email:e.email,phone:e.phone,address:e.address}),a())}});return t?c.a.createElement(c.a.Fragment,null,0!==Object.keys(r.errors).length&&c.a.createElement(ln,{errors:r.errors}),c.a.createElement(Xt.a,{layout:"vertical",onSubmit:r.handleSubmit,style:{marginTop:"5%"},fluid:!0},c.a.createElement(en.a,null,c.a.createElement(tn.a,null),c.a.createElement(sn.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:r.handleChange,value:r.values.firstName})),c.a.createElement(en.a,null,c.a.createElement(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"phone",label:"Phone number",name:"phone",autoComplete:"phone",autoFocus:!0,onChange:r.handleChange,value:r.values.phone})),c.a.createElement(en.a,null,c.a.createElement(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"address",label:"Address",name:"address",autoComplete:"address",autoFocus:!0,onChange:r.handleChange,value:r.values.address})),c.a.createElement(en.a,null,c.a.createElement(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:r.handleChange,value:r.values.email})),c.a.createElement(en.a,null,c.a.createElement(nn.a,null,c.a.createElement(an.a,{appearance:"primary",type:"submit"},"Submit"),c.a.createElement(mn,null))))):null};pn=Object(Z.b)((function(e){return{currentUser:Me(e)}}),a)(pn);var fn,En=function(){var e=Object(r.useState)(!1),t=Object(R.a)(e,2),n=t[0],a=t[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(nn.a,null,c.a.createElement(rn.a,{onClick:function(){return a(!0)},circle:!0,size:"md",src:"https://lorempixel.com/640/480/?32997"})),c.a.createElement(cn.a,{size:"sm",show:n,onHide:function(){return a(!1)}},c.a.createElement(cn.a.Header,null,c.a.createElement(cn.a.Title,null,"User informations")),c.a.createElement(cn.a.Body,null,c.a.createElement(pn,{closeModal:function(){return a(!1)}})),c.a.createElement(cn.a.Footer,null,c.a.createElement(an.a,{onClick:function(){return a(!1)},appearance:"subtle"},"Cancel"))))},hn=function(e){var t={};return e.firstName?e.firstName.length>15&&(t.firstName="15 characters or less"):t.firstName="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid"):t.email="Required",t},gn=function(e){var t=e.getLikedProducts,n=e.likedProducts,a=e.fetchProduct,i=e.searchProduct,o=e.clearSearchResults,s=e.receiveUser,l=e.getCommands,u=e.clearCommands,m=e.notifications,d=e.logout,p=Object(k.i)().category,f=Object(k.h)(),E=Object(k.g)(),g=U();return Object(r.useEffect)((function(){m&&m.map((function(e){$t.a.info({title:"Notification",duration:3e3,description:e})}))}),[m]),c.a.createElement("header",{className:"header"},c.a.createElement(h,{logo:_.a,clearSearchResults:o,clearCommands:u}),p&&c.a.createElement(A,{searchProduct:i}),g&&p&&c.a.createElement(z,{getLikedProducts:t,likedProducts:n,fetchProduct:a,receiveUser:s,clearCommands:u}),g&&c.a.createElement(En,null),g&&p&&c.a.createElement(y,{handleClick:function(){l(),o&&o()}}," ","My commands"),"/"===f.pathname&&c.a.createElement(y,null,"Login"),g&&c.a.createElement(y,{handleClick:function(){d(E)}},"Logout"))},_n=gn=Object(Z.b)((function(e){return{likedProducts:Ie(e),isFetching:Re(e),notifications:xe(e)}}),a)(gn),vn=function(e){var t=e.icons,n=e.clickHandler,a=e.pageNumber,r=e.isPrevious;return c.a.createElement("button",{className:r?"btn-inline results__btn--prev":"btn-inline results__btn--next",onClick:function(){n()}},c.a.createElement("svg",{className:"search__icon"},c.a.createElement("use",{href:r?t+"#icon-triangle-left":t+"#icon-triangle-right"})),c.a.createElement("span",null,"Page ",a))},Cn=function(e){var t=e.pagination,n=e.fetchProducts,a=e.searchResults,r=Object(k.i)().category,i=t.currentPage-1!==0,o=t.currentPage!==t.lastPage;return c.a.createElement("div",{className:"results__pages"},!a&&r&&i&&c.a.createElement(vn,{isPrevious:!0,icons:D.a,pageNumber:t.currentPage-1||1,clickHandler:function(){return n(t.prevLink,r)}}),!a&&r&&o&&c.a.createElement(vn,{isPrevious:!1,icons:D.a,pageNumber:t.currentPage+1||1,clickHandler:function(){return n(t.nextLink,r)}}))},Sn=Cn=Object(Z.b)((function(e){return{pagination:je(e),searchResults:Pe(e)}}),a)(Cn),yn=function(e){var t=e.product,n=e.isActive,a=e.clearSearchResults,r=e.clearCommands;return c.a.createElement("li",null,c.a.createElement(E.b,{className:n?"results__link results__link--active":"results__link results__link",to:t.category.title+"#"+t.id,onClick:function(){a&&a(),r&&r()}},c.a.createElement("figure",{className:"results__fig"},c.a.createElement("img",{src:t.image,alt:t.description})),c.a.createElement("div",{className:"results__data"},c.a.createElement("h4",{className:"results__name"},t.title),c.a.createElement("p",{className:"results__author"},t.company.title))))},bn=function(e){var t,n=e.products,a=e.location,r=e.clearSearchResults,i=e.clearCommands,o=null!==(t=null===a||void 0===a?void 0:a.hash.replace("#",""))&&void 0!==t?t:1;return c.a.createElement("ul",{className:"results__list"},n.map((function(e){return e.quantity>0?c.a.createElement(yn,{product:e,isActive:+o===e.id,key:e.id,clearSearchResults:r,clearCommands:i}):null})))},Nn=function(e){var t=e.products,n=e.isFetching,a=e.errorMessage,i=e.fetchProducts,o=e.match,s=e.location,l=e.clearCommands,u=e.searchResults;return Object(r.useEffect)((function(){i(null,o.params.category).then((function(){return console.log("done !")}))}),[o.params.category,i]),n?c.a.createElement("div",{className:"load"},c.a.createElement("svg",null,c.a.createElement("use",{href:D.a+"#icon-cw"}))):a?c.a.createElement("p",null,"there was an error while fetching"):o.params.category?u?c.a.createElement("h2",{className:"heading-2"},"Please select a product"):c.a.createElement(bn,{products:t,location:s,clearCommands:l}):c.a.createElement("h2",{className:"heading-2"},"Please select a category")},On=Nn=Object(k.j)(Object(Z.b)((function(e,t){return{products:be(e,t.match.params.category),isFetching:Oe(e,t.match.params.category),searchResults:Pe(e),errorMessage:Te(e,t.match.params.category)}}),a)(Nn)),Tn=function(){return c.a.createElement("div",{className:"results"},c.a.createElement(On,null),c.a.createElement(Sn,null))},wn=function(e){var t=e.product;return c.a.createElement("figure",{className:"recipe__fig"},c.a.createElement("img",{src:t.image,alt:t.name,className:"recipe__img"}),c.a.createElement("h1",{className:"recipe__title"},c.a.createElement("span",null,t.description)))},In=(n(558),function(e){var t=e.clickHandler,n=e.isLiked;return c.a.createElement("button",{className:"recipe__love",onClick:function(){return t()}},c.a.createElement("svg",{className:"header__likes"},c.a.createElement("use",{href:n?D.a+"#icon-heart":D.a+"#icon-heart-outlined"})))}),Ln=function(e){var t=e.likes;return c.a.createElement("div",{className:"recipe__info-buttons"},t&&t.map((function(e,t){return t>=5?null:c.a.createElement(c.a.Fragment,{key:t},c.a.createElement("button",{className:"btn-tiny"},c.a.createElement("svg",null,c.a.createElement("use",{href:D.a+"#icon-heart"}))))})),c.a.createElement("button",{className:"btn-tiny"},"(",t&&t.length,")"))},Rn=function(e){var t=e.likes;return c.a.createElement("div",{className:"recipe__info"},c.a.createElement("svg",{className:"recipe__info-icon"},c.a.createElement("use",{href:D.a+"#icon-man"})),c.a.createElement("span",{className:"recipe__info-data recipe__info-data--people"},"4"),c.a.createElement("span",{className:"recipe__info-text"}," servings"),c.a.createElement(Ln,{likes:t}))},kn=function(e){var t=e.product,n=e.addToLikeList,a=e.removeFromLikeList,r=e.isLiked,i=e.likes,o=e.fetchProduct;e.isFetching;return c.a.createElement("div",{className:"recipe__details"},c.a.createElement("div",{className:"recipe__info"},c.a.createElement("svg",{className:"recipe__info-icon"},c.a.createElement("use",{href:D.a+"#icon-stopwatch"})),c.a.createElement("span",{className:"recipe__info-data recipe__info-data--minutes"},"45"),c.a.createElement("span",{className:"recipe__info-text"}," minutes")),c.a.createElement(Rn,{likes:i}),c.a.createElement(In,{clickHandler:function(){r?a(t.id,r):n(t.id,r),o(t.id)},isLiked:r}))},Un=function(e){var t=e.ingredient,n=e.removeIngredient,a=e.product;return c.a.createElement("li",{className:"recipe__item"},c.a.createElement("button",{className:"btn-tiny",onClick:function(){return n(t,a.id)}},c.a.createElement("svg",{className:"recipe__icon"},c.a.createElement("use",{href:D.a+"#icon-circle-with-cross"}))),c.a.createElement("div",{className:"recipe__ingredient"},t))},Fn=function(e){var t=e.ingredients,n=e.product,a=e.addToShoppingList,r=e.fetchProduct,i=e.removeIngredient;fn=n.quantity;var o=Object(on.a)({initialValues:{unit:1},validate:jn});return t?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"recipe__ingredients"}," ",c.a.createElement("span",{className:"shopping__count"},c.a.createElement("input",{type:"number",value:o.values.unit,id:"unit",name:"unit",onChange:o.handleChange,placeholder:"1",max:n.quantity,min:"1"})),c.a.createElement("ul",{className:"recipe__ingredient-list"},t.map((function(e,t){return c.a.createElement(Un,{ingredient:e,removeIngredient:i,product:n,key:t})}))),0!==Object.keys(o.errors).length&&c.a.createElement(ln,{errors:o.errors}),0===Object.keys(o.errors).length&&c.a.createElement("button",{className:"btn-small recipe__btn",onClick:function(){console.log("the product is : ",n),a(n,o.values.unit),r(n.id)}},c.a.createElement("svg",{className:"search__icon"},c.a.createElement("use",{href:D.a+"#icon-shopping-cart"})),c.a.createElement("span",null,"Add to shopping list")))):c.a.createElement("p",null,"Cannot find product")},jn=function(e){var t={};return e.unit<=0?t.unit="bigger than 1":fn&&e.unit>fn&&(t.unit="more than the product quantity"),t},An=c.a.createRef(),Pn=function(e){var t=e.addComment,n=e.editComment,a=e.product,r=e.isEditing,i=e.commentId,o=e.setIsEditing;return c.a.createElement("form",{className:"comment",onSubmit:function(e){return e.preventDefault()}},c.a.createElement(j,{placeholder:"Do you like this product ?",ref:An}),c.a.createElement(y,{handleClick:function(){r?(n(An.current.value,a.id,i),o(!1)):t(An.current.value,a.id),An.current.value=""}},"Add comment"))},Dn=function(e){var t=e.comment,n=e.currentUserId,a=e.product,r=e.removeComment,i=e.setIsEditing,o=e.setCommentId;return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("a",{className:"results__link results__link--active",href:"#"},c.a.createElement("div",{className:"results__data"},c.a.createElement("h4",{className:"results__name"},t.client_name),c.a.createElement("p",{className:"results__author"},t.comment),c.a.createElement("span",{className:"results__time"},"Created at: ",t.created_at)))),t.client_id===n&&c.a.createElement("button",{className:"btn-options",onClick:function(){window.confirm("are you sure you want to delete this comment ?")&&r(t.id,a.id)}}," ","Delete"),t.client_id===n&&c.a.createElement("button",{className:"btn-options",onClick:function(){An.current.value=t.comment,i(!0),o(t.id)}}," ","Edit"))},Mn=function(e){var t=e.comments,n=e.currentUserId,a=e.product,r=e.removeComment,i=e.setIsEditing,o=e.setCommentId;return c.a.createElement("ul",{className:"results__list"},t&&t.map((function(e,t){return c.a.createElement(Dn,{comment:e,product:a,removeComment:r,currentUserId:n,setIsEditing:i,setCommentId:o,key:t})})))},Hn=function(e){var t=e.category;return c.a.createElement("figure",{className:"category__fig"},c.a.createElement("img",{src:t.image,alt:t.title,className:"category__img"}),c.a.createElement("h1",{className:"category__title"},c.a.createElement(E.b,{to:"/home/"+t.title},c.a.createElement("span",null,t.title))))},qn=function(e){var t=e.product,n=e.createdAt,a=e.deliveryState,r=(e.price,e.description),i=e.quantity,o=e.commandGroupId,s=e.address,l=e.author;return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",{className:"results__data"},c.a.createElement("h4",{className:"results__command-id"},"Command id :",o),c.a.createElement("p",{className:"results__author"},"Author : ",l.name),t.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},c.a.createElement("br",null),c.a.createElement("p",{className:"results__author"},"Product : ",e.title),c.a.createElement("figure",{className:"category__fig"},c.a.createElement("img",{src:e.image,alt:e.title,className:"category__img"})),c.a.createElement("p",{className:"results__author"},"Recipe :",X(e.recipe).map((function(e,t){return 0===t?"".concat(e):",".concat(e)}))),c.a.createElement("p",{className:"results__author"},"Description : ",r[t]),c.a.createElement("p",{className:"results__author"},"Quantity : ",i[t]),c.a.createElement("p",{className:"results__state"},"Delivery state : ",a[t]),c.a.createElement("br",null))})),c.a.createElement("p",{className:"results__address"},"Delivery address : ",s),c.a.createElement("span",{className:"results__time"},"Created at : ",n))),c.a.createElement("br",null))},xn=function(e){var t=function(e){return et.a.chain(e).groupBy("command_group_id").map((function(e,t){return{commandGroupId:t,client:et.a.get(et.a.find(e,"client"),"client"),createdAt:et.a.get(et.a.find(e,"created_at"),"created_at"),address:et.a.get(et.a.find(e,"address"),"address"),product:et.a.map(e,"product"),delivery_state:et.a.map(e,"delivery_state"),quantity:et.a.map(e,"quantity"),quantitySum:et.a.map(e,"quantity").reduce((function(e,t){return e+t})),price:et.a.map(e,"price").reduce((function(e,t){return e+t})),description:et.a.map(e,"description")}})).value()}(e.commands);return c.a.createElement("ul",{className:"results__list"},t.map((function(e,t){return e.quantitySum>0?c.a.createElement(qn,{product:e.product,createdAt:e.createdAt,deliveryState:e.delivery_state,address:e.address,price:e.price,description:e.description,quantity:e.quantity,commandGroupId:e.commandGroupId,author:e.client,key:t}):null})))},Gn=function(e){var t=e.product,n=e.isLiked,a=e.likes,i=e.ingredients,o=e.comments,s=e.categories,l=e.match,u=e.isSearching,m=e.searchResults,d=e.fetchCategories,p=e.addToShoppingList,f=e.fetchProduct,E=e.removeIngredient,h=e.addToLikeList,g=e.removeFromLikeList,_=e.clearSearchResults,v=e.addComment,C=e.currentUser,S=e.removeComment,y=e.editComment,b=e.isFetchingCommands,N=e.commands,O=e.receiveUser,T=e.isFetchingLike,w=U();Object(r.useEffect)((function(){if(!w){var e=G();e&&(O({data:e}),d())}}),[]);var I=Object(r.useState)(!1),L=Object(R.a)(I,2),k=L[0],F=L[1],j=Object(r.useState)(null),A=Object(R.a)(j,2),P=A[0],M=A[1];return u||b?c.a.createElement("div",{className:"load"},c.a.createElement("svg",null,c.a.createElement("use",{href:D.a+"#icon-cw"}))):m?c.a.createElement(bn,{clearSearchResults:_,products:m}):N.length>0?c.a.createElement(xn,{commands:N}):l.params.category&&void 0===t?c.a.createElement("h2",{className:"heading-2",style:{marginTop:"50%"}},"Please select a product"):l.params.category?c.a.createElement("div",{className:"recipe"},c.a.createElement(wn,{product:t}),c.a.createElement(kn,{product:t,isFetching:T,addToLikeList:h,removeFromLikeList:g,isLiked:n,fetchProduct:f,likes:a}),c.a.createElement(Fn,{ingredients:i,product:t,addToShoppingList:p,fetchProduct:f,removeIngredient:E}),c.a.createElement(Mn,{comments:o,currentUserId:C.id,product:t,removeComment:S,setIsEditing:function(e){return F(e)},setCommentId:function(e){return M(e)}}),w&&c.a.createElement(Pn,{addComment:v,editComment:y,product:t,isEditing:k,commentId:P,setIsEditing:function(e){return F(e)}})):c.a.createElement("div",{className:"category"},s.map((function(e){return c.a.createElement(Hn,{category:e,key:e.id})})))},Kn=Gn=Object(k.j)(Object(Z.b)((function(e,t){return{product:Ne(e,t.location.hash.replace("#","")),isLiked:Le(e,t.location.hash.replace("#","")),likes:Ue(e,t.location.hash.replace("#","")),comments:Fe(e,t.location.hash.replace("#","")),searchResults:Pe(e),commands:He(e),isSearching:De(e),isFetching:Oe(e,t.match.params.category),isFetchingCommands:qe(e),ingredients:ke(e,t.location.hash.replace("#","")),categories:Ae(e),currentUser:Me(e),isFetchingLike:Re(e)}}),a)(Gn)),Wn=function(e){var t=e.clickHandler,n=e.product;return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"shopping__item"},c.a.createElement("p",{className:"shopping__description"},n.title),c.a.createElement("button",{className:"shopping__delete btn-tiny",onClick:function(){t()}},c.a.createElement("svg",null,c.a.createElement("use",{href:D.a+"#icon-circle-with-cross"})))))},Jn=function(e){var t=e.shoppingList,n=e.getShoppingList,a=e.removeFromShoppingList,i=e.setErrors;return Object(r.useEffect)((function(){n()}),[]),c.a.createElement("ul",{className:"shopping__list"},t&&t.map((function(e){return c.a.createElement(Wn,{product:e.details,setErrors:i,key:e.key,clickHandler:function(){return a(e.key)}})})))},Qn=function(e){var t=e.shoppingList,n=e.getShoppingList,a=e.removeFromShoppingList,r=e.addCommand,i=U();return c.a.createElement("div",{className:"shopping"},c.a.createElement("h2",{className:"heading-2"},"My Shopping List"),c.a.createElement(Jn,{shoppingList:t,getShoppingList:n,removeFromShoppingList:a}),i&&t&&0!==t.length&&c.a.createElement(y,{icon:D.a+"#icon-check",handleClick:function(){var e=prompt("Please enter your address");r(t,e)}},"Confirm order"))},Vn=Qn=Object(Z.b)((function(e){return{shoppingList:we(e)}}),a)(Qn),Bn=function(){return c.a.createElement("div",{className:"homepage-container"},c.a.createElement(_n,null),c.a.createElement(Tn,null),c.a.createElement(Kn,null),c.a.createElement(Vn,null))},zn=n(633),Zn=n(618),Yn=n(616),$n=n(613),Xn=n(615),ea=n(129),ta=n.n(ea),na=n(575),aa=n(617),ra=n(627),ca=n(622),ia=function(e){var t=e.classes,n=e.login,a=Object(k.g)(),r=Object(on.a)({initialValues:{email:"",password:""},validate:sa,onSubmit:function(e){n(e,a)}});return c.a.createElement(c.a.Fragment,null,0!==Object.keys(r.errors).length&&c.a.createElement(ln,{errors:r.errors}),c.a.createElement("form",{onSubmit:r.handleSubmit,className:t.form,noValidate:!0},c.a.createElement(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:r.handleChange,value:r.values.email}),c.a.createElement(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:r.handleChange,value:r.values.password}),c.a.createElement(ra.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),c.a.createElement(Xn.a,{container:!0},c.a.createElement(Xn.a,{item:!0},c.a.createElement(E.b,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))),c.a.createElement(ca.a,{mt:5})))},oa=ia=Object(Z.b)(null,a)(ia),sa=function(e){var t={};return e.password?e.password.length>10&&(t.password="Must be 10 characters or more"):t.password="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid"):t.email="Required",t};var la=Object(aa.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var ua=n(619),ma=function(e){var t=e.classes,n=e.register,a=Object(k.g)(),r=Object(on.a)({initialValues:{firstName:"",phone:"",email:"",password:""},validate:pa,onSubmit:function(e){n(e,a)}});return c.a.createElement(c.a.Fragment,null,0!==Object.keys(r.errors).length&&c.a.createElement(ln,{errors:r.errors}),c.a.createElement("form",{onSubmit:r.handleSubmit,className:t.form,noValidate:!0},c.a.createElement(Xn.a,{container:!0,spacing:2},c.a.createElement(Xn.a,{item:!0,xs:12,sm:6},c.a.createElement(sn.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:r.handleChange,value:r.values.firstName})),c.a.createElement(Xn.a,{item:!0,xs:12,sm:6},c.a.createElement(sn.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",name:"phone",autoComplete:"pnumber",onChange:r.handleChange,value:r.values.phone})),c.a.createElement(Xn.a,{item:!0,xs:12},c.a.createElement(sn.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:r.handleChange,value:r.values.email})),c.a.createElement(Xn.a,{item:!0,xs:12},c.a.createElement(sn.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:r.handleChange,value:r.values.password})),c.a.createElement(Xn.a,{item:!0,xs:12})),c.a.createElement(ra.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up"),c.a.createElement(Xn.a,{container:!0,justify:"flex-end"},c.a.createElement(Xn.a,{item:!0},c.a.createElement(E.b,{to:"/login",variant:"body2"},"Already have an account? Sign in")))))},da=ma=Object(Z.b)(null,a)(ma),pa=function(e){var t={};return e.firstName?e.firstName.length>15&&(t.firstName="15 characters or less"):t.firstName="Required",e.phone?e.phone.length>20?t.phone="too long":isNaN(e.phone)&&(t.phone="not a number"):t.phone="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid"):t.email="Required",e.password?e.password.length>20&&(t.password="characters or less"):t.password="Required",t};function fa(){return c.a.createElement(na.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",c.a.createElement(Yn.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var Ea=Object(aa.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var ha=[{path:"/",component:F},{path:"/home/:category?",component:Bn},{path:"/login",component:function(){var e=la();if(!U())return c.a.createElement(Xn.a,{container:!0,component:"main",className:e.root},c.a.createElement(Zn.a,null),c.a.createElement(Xn.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),c.a.createElement(Xn.a,{item:!0,xs:12,sm:8,md:5,component:$n.a,elevation:6,square:!0},c.a.createElement("div",{className:e.paper},c.a.createElement(zn.a,{className:e.avatar},c.a.createElement(ta.a,null)),c.a.createElement(na.a,{component:"h1",variant:"h5"},"Sign in"),c.a.createElement(oa,{classes:e}))))}},{path:"/register",component:function(){var e=Ea();if(!U())return c.a.createElement(ua.a,{component:"main",maxWidth:"xs"},c.a.createElement("div",{className:e.paper},c.a.createElement(zn.a,{className:e.avatar},c.a.createElement(ta.a,null)),c.a.createElement(na.a,{component:"h1",variant:"h5"},"Sign up"),c.a.createElement(da,{classes:e})),c.a.createElement(ca.a,{mt:5},c.a.createElement(fa,null)))}}],ga=n(236),_a=Object(ga.a)();n(569);var va=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(E.a,{history:_a},c.a.createElement(k.d,null,ha.map((function(e,t){return c.a.createElement(k.b,{exact:!0,path:e.path,key:t},c.a.createElement(e.component,null))})),c.a.createElement(k.a,{to:"/home"}))))},Ca=n(70),Sa=(n(570),Object(Ca.a)({reducer:ye}));o.a.render(c.a.createElement(Z.a,{store:Sa},c.a.createElement(va,null)),document.getElementById("root"));var ya=t.default=Sa}},[[252,1,2]]]);
//# sourceMappingURL=main.ccdf11a2.chunk.js.map